<html>
  <head>
    	<style>
    		body{
    			margin: 0;
    		}
    		.bar {
    			height: 4px;
    			background-color: red;
    			width:0;
    		}
    	</style>
  </head>
  <body>
    <div class='bar'></div>
    <script>
    	var totalWidth = window.innerWidth;
    	var bar  = document.getElementsByClassName('bar')[0];
    	var barWidth = 0;
    	var iterator = setInterval(function(){
    		var imsDist = totalWidth/3000;
    		barWidth += imsDist;
    		bar.style.width = barWidth;
    		if(barWidth > totalWidth-10) {
    			clearInterval(iterator);
    			bar.style.width = 0;
    		}
    	}, 1)
    </script>
  </body>
</html>